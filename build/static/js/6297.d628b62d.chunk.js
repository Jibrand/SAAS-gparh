"use strict";(self.webpackChunkhope_ui_react=self.webpackChunkhope_ui_react||[]).push([[6297],{26297:function(e,t,s){s.r(t),s.d(t,{default:function(){return S}});var i=s(72791),n=(s(77632),s(47022)),l=s(4942),a=s(15671),r=s(43144),d=s(97326),o=s(60136),c=s(29388),h=s(89743),m=s(2677),p=s(43360),x=s(49027),u=s(9140),j=s(62591),f=s(7692),b=s(99410),y=s(80184),v=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){return(0,y.jsxs)(b.Z,{className:"my-1 flex-nowrap",children:[null!=this.props.cellData.leading&&(0,y.jsx)(b.Z.Text,{className:"bg-light fw-bold border-0 text-secondary px-2",children:(0,y.jsx)("span",{className:"border border-2 border-secondary rounded-circle d-flex align-items-center justify-content-center small",style:{width:"20px",height:"20px"},children:this.props.cellData.leading})}),(0,y.jsx)(x.Z.Control,{className:this.props.cellData.textAlign,type:this.props.cellData.type,placeholder:this.props.cellData.placeholder,min:this.props.cellData.min,name:this.props.cellData.name,id:this.props.cellData.id,value:this.props.cellData.value,step:this.props.cellData.step,presicion:this.props.cellData.presicion,"aria-label":this.props.cellData.name,onChange:this.props.onItemizedItemEdit,required:!0})]})}}]),s}(i.Component),N=v,w=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"render",value:function(){var e=this.props.onItemizedItemEdit,t=this.props.currency,s=this.props.onRowDel,i=this.props.items.map((function(i){return(0,y.jsx)(Z,{onItemizedItemEdit:e,item:i,onDelEvent:s.bind(this),currency:t},i.id)}));return(0,y.jsxs)("div",{children:[(0,y.jsxs)(j.Z,{children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"ITEM"}),(0,y.jsx)("th",{children:"QTY"}),(0,y.jsx)("th",{children:"PRICE/RATE"}),(0,y.jsx)("th",{className:"text-center",children:"ACTION"})]})}),(0,y.jsx)("tbody",{children:i})]}),(0,y.jsx)(p.Z,{className:"fw-bold",onClick:this.props.onRowAdd,children:"Add Item"})]})}}]),s}(i.Component),Z=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(){return(0,a.Z)(this,s),t.apply(this,arguments)}return(0,r.Z)(s,[{key:"onDelEvent",value:function(){this.props.onDelEvent(this.props.item)}},{key:"render",value:function(){return(0,y.jsxs)("tr",{children:[(0,y.jsxs)("td",{style:{width:"100%"},children:[(0,y.jsx)(N,{onItemizedItemEdit:this.props.onItemizedItemEdit,cellData:{type:"text",name:"name",placeholder:"Item name",value:this.props.item.name,id:this.props.item.id}}),(0,y.jsx)(N,{onItemizedItemEdit:this.props.onItemizedItemEdit,cellData:{type:"text",name:"description",placeholder:"Item description",value:this.props.item.description,id:this.props.item.id}})]}),(0,y.jsx)("td",{style:{minWidth:"70px"},children:(0,y.jsx)(N,{onItemizedItemEdit:this.props.onItemizedItemEdit,cellData:{type:"number",name:"quantity",min:1,step:"1",value:this.props.item.quantity,id:this.props.item.id}})}),(0,y.jsx)("td",{style:{minWidth:"130px"},children:(0,y.jsx)(N,{onItemizedItemEdit:this.props.onItemizedItemEdit,cellData:{leading:this.props.currency,type:"number",name:"price",min:1,step:"0.01",presicion:2,textAlign:"text-end",value:this.props.item.price,id:this.props.item.id}})}),(0,y.jsx)("td",{className:"text-center",style:{minWidth:"50px"},children:(0,y.jsx)(f.SW4,{onClick:this.onDelEvent.bind(this),style:{height:"33px",width:"33px",padding:"7.5px"},className:"text-white mt-1 btn btn-danger"})})]})}}]),s}(i.Component),g=w,C=s(95316),I=s(25498),D=s.n(I),T=s(35125);function A(){D()(document.querySelector("#invoiceCapture")).then((function(e){var t=e.toDataURL("image/png",1),s=new T.ZP({orientation:"portrait",unit:"pt",format:[612,792]});s.internal.scaleFactor=1;var i=s.getImageProperties(t),n=s.internal.pageSize.getWidth(),l=i.height*n/i.width;s.addImage(t,"PNG",0,0,n,l),s.save("invoice-001.pdf")}))}var F=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(e){return(0,a.Z)(this,s),t.call(this,e)}return(0,r.Z)(s,[{key:"render",value:function(){var e=this;return(0,y.jsxs)("div",{children:[(0,y.jsxs)(C.Z,{show:this.props.showModal,onHide:this.props.closeModal,size:"lg",centered:!0,children:[(0,y.jsxs)("div",{id:"invoiceCapture",children:[(0,y.jsxs)("div",{className:"d-flex flex-row justify-content-between align-items-start bg-light w-100 p-4",children:[(0,y.jsxs)("div",{className:"w-100",children:[(0,y.jsx)("h4",{className:"fw-bold my-2",children:this.props.info.billFrom||"John Uberbacher"}),(0,y.jsxs)("h6",{className:"fw-bold text-secondary mb-1",children:["Invoice #: ",this.props.info.invoiceNumber||""]})]}),(0,y.jsxs)("div",{className:"text-end ms-4",children:[(0,y.jsx)("h6",{className:"fw-bold mt-1 mb-2",children:"Amount\xa0Due:"}),(0,y.jsxs)("h5",{className:"fw-bold text-secondary",children:[" ",this.props.currency," ",this.props.total]})]})]}),(0,y.jsxs)("div",{className:"p-4",children:[(0,y.jsxs)(h.Z,{className:"mb-4",children:[(0,y.jsxs)(m.Z,{md:4,children:[(0,y.jsx)("div",{className:"fw-bold",children:"Billed to:"}),(0,y.jsx)("div",{children:this.props.info.billTo||""}),(0,y.jsx)("div",{children:this.props.info.billToAddress||""}),(0,y.jsx)("div",{children:this.props.info.billToEmail||""})]}),(0,y.jsxs)(m.Z,{md:4,children:[(0,y.jsx)("div",{className:"fw-bold",children:"Billed From:"}),(0,y.jsx)("div",{children:this.props.info.billFrom||""}),(0,y.jsx)("div",{children:this.props.info.billFromAddress||""}),(0,y.jsx)("div",{children:this.props.info.billFromEmail||""})]}),(0,y.jsxs)(m.Z,{md:4,children:[(0,y.jsx)("div",{className:"fw-bold mt-2",children:"Date Of Issue:"}),(0,y.jsx)("div",{children:this.props.info.dateOfIssue||""})]})]}),(0,y.jsxs)(j.Z,{className:"mb-0",children:[(0,y.jsx)("thead",{children:(0,y.jsxs)("tr",{children:[(0,y.jsx)("th",{children:"QTY"}),(0,y.jsx)("th",{children:"DESCRIPTION"}),(0,y.jsx)("th",{className:"text-end",children:"PRICE"}),(0,y.jsx)("th",{className:"text-end",children:"AMOUNT"})]})}),(0,y.jsx)("tbody",{children:this.props.items.map((function(t,s){return(0,y.jsxs)("tr",{id:s,children:[(0,y.jsx)("td",{style:{width:"70px"},children:t.quantity}),(0,y.jsxs)("td",{children:[t.name," - ",t.description]}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[e.props.currency," ",t.price]}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[e.props.currency," ",t.price*t.quantity]})]},s)}))})]}),(0,y.jsx)(j.Z,{children:(0,y.jsxs)("tbody",{children:[(0,y.jsxs)("tr",{children:[(0,y.jsx)("td",{children:"\xa0"}),(0,y.jsx)("td",{children:"\xa0"}),(0,y.jsx)("td",{children:"\xa0"})]}),(0,y.jsxs)("tr",{className:"text-end",children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{className:"fw-bold",style:{width:"100px"},children:"SUBTOTAL"}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[this.props.currency," ",this.props.subTotal]})]}),0!=this.props.taxAmmount&&(0,y.jsxs)("tr",{className:"text-end",children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{className:"fw-bold",style:{width:"100px"},children:"TAX"}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[this.props.currency," ",this.props.taxAmmount]})]}),0!=this.props.discountAmmount&&(0,y.jsxs)("tr",{className:"text-end",children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{className:"fw-bold",style:{width:"100px"},children:"DISCOUNT"}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[this.props.currency," ",this.props.discountAmmount]})]}),(0,y.jsxs)("tr",{className:"text-end",children:[(0,y.jsx)("td",{}),(0,y.jsx)("td",{className:"fw-bold",style:{width:"100px"},children:"TOTAL"}),(0,y.jsxs)("td",{className:"text-end",style:{width:"100px"},children:[this.props.currency," ",this.props.total]})]})]})}),this.props.info.notes&&(0,y.jsx)("div",{className:"bg-light py-3 px-4 rounded",children:this.props.info.notes})]})]}),(0,y.jsx)("div",{className:"pb-4 px-4",children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(m.Z,{md:6,children:(0,y.jsxs)(p.Z,{variant:"primary",className:"d-block w-100",onClick:A,children:[(0,y.jsx)(f.VLC,{style:{width:"15px",height:"15px",marginTop:"-3px"},className:"me-2"}),"Send Invoice"]})}),(0,y.jsx)(m.Z,{md:6,children:(0,y.jsxs)(p.Z,{variant:"outline-primary",className:"d-block w-100 mt-3 mt-md-0",onClick:A,children:[(0,y.jsx)(f.JfT,{style:{width:"16px",height:"16px",marginTop:"-3px"},className:"me-2"}),"Download Copy"]})})]})})]}),(0,y.jsx)("hr",{className:"mt-4 mb-3"})]})}}]),s}(i.Component),E=function(e){(0,o.Z)(s,e);var t=(0,c.Z)(s);function s(e){var i;return(0,a.Z)(this,s),(i=t.call(this,e)).editField=function(e){i.setState((0,l.Z)({},e.target.name,e.target.value)),i.handleCalculateTotal()},i.onCurrencyChange=function(e){i.setState(e)},i.openModal=function(e){e.preventDefault(),i.handleCalculateTotal(),i.setState({isOpen:!0})},i.closeModal=function(e){return i.setState({isOpen:!1})},i.state={isOpen:!1,currency:"$",currentDate:"",invoiceNumber:1,dateOfIssue:"",billTo:"",billToEmail:"",billToAddress:"",billFrom:"",billFromEmail:"",billFromAddress:"",notes:"",total:"0.00",subTotal:"0.00",taxRate:"",taxAmmount:"0.00",discountRate:"",discountAmmount:"0.00"},i.state.items=[{id:0,name:"",description:"",price:"1.00",quantity:1}],i.editField=i.editField.bind((0,d.Z)(i)),i}return(0,r.Z)(s,[{key:"componentDidMount",value:function(e){this.handleCalculateTotal()}},{key:"handleRowDel",value:function(e){var t=this.state.items.indexOf(e);this.state.items.splice(t,1),this.setState(this.state.items)}},{key:"handleAddEvent",value:function(e){var t={id:(+new Date+Math.floor(999999*Math.random())).toString(36),name:"",price:"1.00",description:"",quantity:1};this.state.items.push(t),this.setState(this.state.items)}},{key:"handleCalculateTotal",value:function(){var e=this,t=this.state.items,s=0;t.map((function(e){s=parseFloat(s+parseFloat(e.price).toFixed(2)*parseInt(e.quantity)).toFixed(2)})),this.setState({subTotal:parseFloat(s).toFixed(2)},(function(){e.setState({taxAmmount:parseFloat(parseFloat(s)*(e.state.taxRate/100)).toFixed(2)},(function(){e.setState({discountAmmount:parseFloat(parseFloat(s)*(e.state.discountRate/100)).toFixed(2)},(function(){e.setState({total:s-e.state.discountAmmount+parseFloat(e.state.taxAmmount)})}))}))}))}},{key:"onItemizedItemEdit",value:function(e){var t={id:e.target.id,name:e.target.name,value:e.target.value},s=this.state.items.slice().map((function(e){for(var s in e)s==t.name&&e.id==t.id&&(e[s]=t.value);return e}));this.setState({items:s}),this.handleCalculateTotal()}},{key:"render",value:function(){var e=this;return(0,y.jsx)(x.Z,{onSubmit:this.openModal,children:(0,y.jsxs)(h.Z,{children:[(0,y.jsx)(m.Z,{md:8,lg:9,children:(0,y.jsxs)(u.Z,{className:"p-4 p-xl-5 my-3 my-xl-4",children:[(0,y.jsxs)("div",{className:"d-flex flex-row align-items-start justify-content-between mb-3",children:[(0,y.jsxs)("div",{class:"d-flex flex-column",children:[(0,y.jsx)("div",{className:"d-flex flex-column",children:(0,y.jsxs)("div",{class:"mb-2",children:[(0,y.jsx)("span",{className:"fw-bold",children:"Current\xa0Date:\xa0"}),(0,y.jsx)("span",{className:"current-date",children:(new Date).toLocaleDateString()})]})}),(0,y.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[(0,y.jsx)("span",{className:"fw-bold d-block me-2",children:"Due\xa0Date:"}),(0,y.jsx)(x.Z.Control,{type:"date",value:this.state.dateOfIssue,name:"dateOfIssue",onChange:function(t){return e.editField(t)},style:{maxWidth:"150px"},required:"required"})]})]}),(0,y.jsxs)("div",{className:"d-flex flex-row align-items-center",children:[(0,y.jsx)("span",{className:"fw-bold me-2",children:"Invoice\xa0Number:\xa0"}),(0,y.jsx)(x.Z.Control,{type:"number",value:this.state.invoiceNumber,name:"invoiceNumber",onChange:function(t){return e.editField(t)},min:"1",style:{maxWidth:"70px"},required:"required"})]})]}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsxs)(h.Z,{className:"mb-5",children:[(0,y.jsxs)(m.Z,{children:[(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Bill to:"}),(0,y.jsx)(x.Z.Control,{placeholder:"Who is this invoice to?",rows:3,value:this.state.billTo,type:"text",name:"billTo",className:"my-2",onChange:function(t){return e.editField(t)},autoComplete:"name",required:"required"}),(0,y.jsx)(x.Z.Control,{placeholder:"Email address",value:this.state.billToEmail,type:"email",name:"billToEmail",className:"my-2",onChange:function(t){return e.editField(t)},autoComplete:"email",required:"required"}),(0,y.jsx)(x.Z.Control,{placeholder:"Billing address",value:this.state.billToAddress,type:"text",name:"billToAddress",className:"my-2",autoComplete:"address",onChange:function(t){return e.editField(t)},required:"required"})]}),(0,y.jsxs)(m.Z,{children:[(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Bill from:"}),(0,y.jsx)(x.Z.Control,{placeholder:"Who is this invoice from?",rows:3,value:this.state.billFrom,type:"text",name:"billFrom",className:"my-2",onChange:function(t){return e.editField(t)},autoComplete:"name",required:"required"}),(0,y.jsx)(x.Z.Control,{placeholder:"Email address",value:this.state.billFromEmail,type:"email",name:"billFromEmail",className:"my-2",onChange:function(t){return e.editField(t)},autoComplete:"email",required:"required"}),(0,y.jsx)(x.Z.Control,{placeholder:"Billing address",value:this.state.billFromAddress,type:"text",name:"billFromAddress",className:"my-2",autoComplete:"address",onChange:function(t){return e.editField(t)},required:"required"})]})]}),(0,y.jsx)(g,{onItemizedItemEdit:this.onItemizedItemEdit.bind(this),onRowAdd:this.handleAddEvent.bind(this),onRowDel:this.handleRowDel.bind(this),currency:this.state.currency,items:this.state.items}),(0,y.jsx)(h.Z,{className:"mt-4 justify-content-end",children:(0,y.jsxs)(m.Z,{lg:6,children:[(0,y.jsxs)("div",{className:"d-flex flex-row align-items-start justify-content-between",children:[(0,y.jsx)("span",{className:"fw-bold",children:"Subtotal:"}),(0,y.jsxs)("span",{children:[this.state.currency,this.state.subTotal]})]}),(0,y.jsxs)("div",{className:"d-flex flex-row align-items-start justify-content-between mt-2",children:[(0,y.jsx)("span",{className:"fw-bold",children:"Discount:"}),(0,y.jsxs)("span",{children:[(0,y.jsxs)("span",{className:"small ",children:["(",this.state.discountRate||0,"%)"]}),this.state.currency,this.state.discountAmmount||0]})]}),(0,y.jsxs)("div",{className:"d-flex flex-row align-items-start justify-content-between mt-2",children:[(0,y.jsx)("span",{className:"fw-bold",children:"Tax:"}),(0,y.jsxs)("span",{children:[(0,y.jsxs)("span",{className:"small ",children:["(",this.state.taxRate||0,"%)"]}),this.state.currency,this.state.taxAmmount||0]})]}),(0,y.jsx)("hr",{}),(0,y.jsxs)("div",{className:"d-flex flex-row align-items-start justify-content-between",style:{fontSize:"1.125rem"},children:[(0,y.jsx)("span",{className:"fw-bold",children:"Total:"}),(0,y.jsxs)("span",{className:"fw-bold",children:[this.state.currency,this.state.total||0]})]})]})}),(0,y.jsx)("hr",{className:"my-4"}),(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Notes:"}),(0,y.jsx)(x.Z.Control,{placeholder:"Thanks for your business!",name:"notes",value:this.state.notes,onChange:function(t){return e.editField(t)},as:"textarea",className:"my-2",rows:1})]})}),(0,y.jsx)(m.Z,{md:4,lg:3,children:(0,y.jsxs)("div",{className:"sticky-top pt-md-3 pt-xl-4",children:[(0,y.jsx)(p.Z,{variant:"primary",type:"submit",className:"d-block w-100",children:"Review Invoice"}),(0,y.jsx)(F,{showModal:this.state.isOpen,closeModal:this.closeModal,info:this.state,items:this.state.items,currency:this.state.currency,subTotal:this.state.subTotal,taxAmmount:this.state.taxAmmount,discountAmmount:this.state.discountAmmount,total:this.state.total}),(0,y.jsxs)(x.Z.Group,{className:"mb-3",children:[(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Currency:"}),(0,y.jsxs)(x.Z.Select,{onChange:function(t){return e.onCurrencyChange({currency:t.target.value})},className:"btn btn-light my-1","aria-label":"Change Currency",children:[(0,y.jsx)("option",{value:"$",children:"USD (United States Dollar)"}),(0,y.jsx)("option",{value:"\xa3",children:"GBP (British Pound Sterling)"}),(0,y.jsx)("option",{value:"\xa5",children:"JPY (Japanese Yen)"}),(0,y.jsx)("option",{value:"$",children:"CAD (Canadian Dollar)"}),(0,y.jsx)("option",{value:"$",children:"AUD (Australian Dollar)"}),(0,y.jsx)("option",{value:"$",children:"SGD (Signapore Dollar)"}),(0,y.jsx)("option",{value:"\xa5",children:"CNY (Chinese Renminbi)"}),(0,y.jsx)("option",{value:"\u20bf",children:"BTC (Bitcoin)"})]})]}),(0,y.jsxs)(x.Z.Group,{className:"my-3",children:[(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Tax rate:"}),(0,y.jsxs)(b.Z,{className:"my-1 flex-nowrap",children:[(0,y.jsx)(x.Z.Control,{name:"taxRate",type:"number",value:this.state.taxRate,onChange:function(t){return e.editField(t)},className:"bg-white border",placeholder:"0.0",min:"0.00",step:"0.01",max:"100.00"}),(0,y.jsx)(b.Z.Text,{className:"bg-light fw-bold text-secondary small",children:"%"})]})]}),(0,y.jsxs)(x.Z.Group,{className:"my-3",children:[(0,y.jsx)(x.Z.Label,{className:"fw-bold",children:"Discount rate:"}),(0,y.jsxs)(b.Z,{className:"my-1 flex-nowrap",children:[(0,y.jsx)(x.Z.Control,{name:"discountRate",type:"number",value:this.state.discountRate,onChange:function(t){return e.editField(t)},className:"bg-white border",placeholder:"0.0",min:"0.00",step:"0.01",max:"100.00"}),(0,y.jsx)(b.Z.Text,{className:"bg-light fw-bold text-secondary small",children:"%"})]})]})]})})]})})}}]),s}(i.Component),S=function(){return(0,y.jsx)("div",{className:"App d-flex flex-column align-items-center justify-content-center w-100",children:(0,y.jsx)(n.Z,{children:(0,y.jsx)(E,{})})})}}}]);
//# sourceMappingURL=6297.d628b62d.chunk.js.map